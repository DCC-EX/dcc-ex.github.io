

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>EX-RAIL Reference &mdash; DCC++ EX  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/dccex_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/platform.js"></script>
        <script src="../_static/js/extra.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Reference" href="../reference/index.html" />
    <link rel="prev" title="Introduction to EX-RAIL Automation" href="EX-RAIL-intro.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">Get Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../get-started/levels.html">Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/assembly.html">Assembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/wifi-setup.html">WiFi Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/installer.html">Install using the Automated Installer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/arduino-ide.html">Install using the Arduino IDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/controllers.html">Choosing a Controller (Throttle)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/diagnosing-issues.html">Diagnosing Issues (Troubleshooting)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-setup/index.html">Advanced Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../advanced-setup/wifi-config.html">WiFi Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced-setup/motor-board-config.html">Motor Board Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced-setup/startup-config.html">Startup Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced-setup/supported-motorboards/index.html">Supported Motorboards Setup Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../advanced-setup/supported-motorboards/L298N-motor-board-setup.html">L298N Motor Board Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../advanced-setup/supported-motorboards/IBT_2-motor-board-setup.html">IBT_2 BTS7960 Motor Board</a></li>
<li class="toctree-l3"><a class="reference internal" href="../advanced-setup/supported-motorboards/IRF3205-motor-board-setup.html">IRF3205 Motor Board Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../advanced-setup/supported-microcontrollers/index.html">Supported Microcontrollers Setup Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../advanced-setup/supported-microcontrollers/wifi-mega.html">Mega+WiFi Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../advanced-setup/supported-microcontrollers/nano.html">Arduino Nano Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../advanced-setup/supported-microcontrollers/nano-every.html">Nano Every</a></li>
<li class="toctree-l3"><a class="reference internal" href="../advanced-setup/supported-microcontrollers/teensy.html">Teensy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../advanced-setup/high-accuracy.html">High Accuracy Waveform Mode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../throttles/index.html">Throttles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../throttles/protocols.html">WiThrottle Server, Web Server, DCC++ API Explained</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/ex-webthrottle.html">DCC++ EX Web Throttle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/engine-driver.html">Engine Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/withrottle.html">WiThrottle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/dccpp-cab.html">DCCpp CAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/locontrol.html">Locontrol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/cab-engineer.html">Cab Engineer: DCC Throttle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/digitrainspro.html">DigiTrainsPro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/srcpclient.html">SRCP Client for iOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../throttles/streamdeck.html">Elgato Stream Deck</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Automation (EX-RAIL) BETA!</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="EX-RAIL-intro.html">Introduction to EX-RAIL Automation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">EX-RAIL Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/hardware/index.html">Hardware</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/hardware/microcontroller-boards.html">Microcontroller Boards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/hardware/motor-boards.html">Motor Boards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/hardware/wifi-boards.html">WiFi Boards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/hardware/ethernet-boards.html">Ethernet Boards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/hardware/i2c-displays.html">I2C Displays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/hardware/power-supplies.html">Power Supplies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/hardware/shopping-list.html">Shopping List</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/software/release-notes.html">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/software/command-reference.html">DCC++ EX Command Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/software/command-summary.html">DCC++ EX Command Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/software/hal-config.html">I/O Device Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/software/diagnostic-d-ack-command.html">Diagnostics <code class="docutils literal notranslate"><span class="pre">&lt;D</span> <span class="pre">ACK&gt;</span></code> Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/software/diagnostic-d-command.html">Diagnostics <code class="docutils literal notranslate"><span class="pre">&lt;D&gt;</span></code> Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/accessories/suppliers.html">Hardware, Software, and Accessory Suppliers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/downloads/index.html">Downloads</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/downloads/documents.html">Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/downloads/schematics.html">Schematics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/tools/index.html">Diagnostic Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/tools/diagnostic-tools.html">DCC Diagnostic Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/tools/serial-monitor.html">Using a Serial Monitor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/wire-gauge.html">Wire Gauge Information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../download/index.html">Software Downloads</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../download/commandstation.html">Command Station Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download/esp8266.html">ESP8266 Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../download/dcc-inspector-ex.html">DCC Inspector-EX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../projects/index.html">Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/railsnail-bluetooth.html">RailSnail’s Complete Blutooth DCC++EX Command Station</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing/requirements.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/website.html">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/development.html">Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/contactus.html">Contact us</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/index.html">DCC-EX Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/index.html">Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../support/create-ticket.html">Submit a Support Ticket</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/rewrite.html">What’s New in DCC++ EX?</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DCC++ EX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Automation (EX-RAIL) BETA!</a> &raquo;</li>
        
      <li>EX-RAIL Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/automation/EX-RAIL-ref.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ex-rail-reference">
<h1>EX-RAIL Reference<a class="headerlink" href="#ex-rail-reference" title="Permalink to this headline">¶</a></h1>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>EX-RAIL is in Beta testing. It is very far along, but you may experience unexpected issues. We can use your help in final testing and ideas for new features. Please see us on Discord to participate in the Beta, and get the link to the EX-RAIL version of the software.</p>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><em>ROUTE</em>, <em>AUTOMATION</em> and <em>SEQUENCE</em> use the same ID number space, so a <code class="docutils literal notranslate"><span class="pre">FOLLOW(n)</span></code> command can be used for any of them.</p></li>
<li><p>Sensors and outputs used by AT/AFTER/SET/RESET/LATCH/UNLATCH/SERVO/IF/IFNOT refer directly to Arduino pins, and those handled by I2C expansion.</p></li>
<li><p>Signals also refer directly to pins, and the signal ID (for RED/AMBER/GREEN) is always the same as the RED signal pin.</p></li>
<li><p>It’s OK to use sensor IDs that have no physical item in the layout. These can only be LATCHed, tested (IF/IFNOT), or UNLATCHed in the scripts. If a sensor is latched by the script, it can only be unlatched by the script… so <code class="docutils literal notranslate"><span class="pre">AT(35)</span> <span class="pre">LATCH(35)</span></code> for example, effectively latches sensor 35 on when detected once.</p></li>
<li><p>All IDs used in commands and functions will be numbers, or an ALIAS name if configured.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="command-reference">
<h2>Command Reference<a class="headerlink" href="#command-reference" title="Permalink to this headline">¶</a></h2>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Scroll the tables across to view entire contents of two columns!  &lt;—&gt;</p>
</div>
<div class="section" id="diagnostics-control">
<h3>Diagnostics &amp; Control<a class="headerlink" href="#diagnostics-control" title="Permalink to this headline">¶</a></h3>
<p>There are some diagnostic and control commands added to the &lt;tag&gt; language normally used to control the Command Station over USB, WiFi or Ethernet.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><em>Command</em></p></th>
<th class="head"><p><em>Function</em></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt;D EXRAIL ON|OFF&gt;</p></td>
<td><p>Turns on/off diagnostic traces for EX-RAIL events</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;/ PAUSE&gt;</p></td>
<td><p>Pauses all automation - all locos ESTOP</p></td>
</tr>
<tr class="row-even"><td><p>&lt;/ RESUME&gt;</p></td>
<td><p>Resumes all automation - all locos are restarted at speed when paused</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;/ &gt;</p></td>
<td><p>Displays EX-RAIL running task information</p></td>
</tr>
<tr class="row-even"><td><p>&lt;/ ROUTES&gt;</p></td>
<td><p>Returns the Routes &amp; Automations control list in WiThrottle format. <strong>JMRI integration only!</strong></p></td>
</tr>
<tr class="row-odd"><td><p>&lt;/ START [loco_addr ]route_id&gt;</p></td>
<td><p>Starts a new task to send a loco onto a Route, or activate a non-loco Animation or Sequence</p></td>
</tr>
<tr class="row-even"><td><p>&lt;/ KILL task_id&gt;</p></td>
<td><p>Kills a currently running script task by ID (use <code class="docutils literal notranslate"><span class="pre">&lt;/</span> <span class="pre">&gt;</span></code> to list task IDs)</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;/ RESERVE block_id&gt;</p></td>
<td><p>Manually reserves a virtual track Block</p></td>
</tr>
<tr class="row-even"><td><p>&lt;/ FREE block_id&gt;</p></td>
<td><p>Manually frees a virtual track Block</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;/ LATCH sensor_id&gt;</p></td>
<td><p>Lock sensor ON, preventing external influence</p></td>
</tr>
<tr class="row-even"><td><p>&lt;/ UNLATCH sensor_ID&gt;</p></td>
<td><p>Unlock sensor, returning to current external state</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="routes-automations-sequences">
<h3>Routes, Automations &amp; Sequences<a class="headerlink" href="#routes-automations-sequences" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><em>Command</em></p></th>
<th class="head"><p><em>Function</em></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>— Script definition items —</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>EXRAIL</p></td>
<td><p>All scripts exist in a single block between EXRAIL and ENDEXRAIL keywords</p></td>
</tr>
<tr class="row-odd"><td><p>AUTOMATION(sequence_id, “description”)</p></td>
<td><p>Start of an Automation Sequence which WiThrottles can send a train along</p></td>
</tr>
<tr class="row-even"><td><p>ROUTE(sequence_id, “description”)</p></td>
<td><p>Start of a Route Sequence settable in WiThrottle</p></td>
</tr>
<tr class="row-odd"><td><p>SEQUENCE(sequence_id)</p></td>
<td><p>A general purpose Sequence for scenic animations, etc</p></td>
</tr>
<tr class="row-even"><td><p>ENDTASK or DONE</p></td>
<td><p>Completes a Sequence</p></td>
</tr>
<tr class="row-odd"><td><p>ENDEXRAIL</p></td>
<td><p>Ends entire script</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>— Object definitions —</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>ALIAS(“name”, value) <strong>* See note! —&gt;</strong></p></td>
<td><p>Gives a name to a value for script readability. <strong>* Must appear BEFORE the EXRAIL command!</strong></p></td>
</tr>
<tr class="row-odd"><td><p>SIGNAL(red_pin,amber_pin,green_pin)</p></td>
<td><p>Define a signal, Red_pin becomes signal_id for RED/AMBER/GREEN</p></td>
</tr>
<tr class="row-even"><td><p>TURNOUT(id,addr,subaddr)</p></td>
<td><p>Define a DCC turnout</p></td>
</tr>
<tr class="row-odd"><td><p>PIN_TURNOUT(id,pin)</p></td>
<td><p>Define a pin turnout</p></td>
</tr>
<tr class="row-even"><td><p>SERVO_TURNOUT(id,pin,activeAngle,inactiveAngle,profile)</p></td>
<td><p>Define a servo turnout. (profile is one of  Instant, Fast, Medium, Slow or Bounce)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>— Flow control functions —</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>FOLLOW(sequence_id)</p></td>
<td><p>Branch to another sequence</p></td>
</tr>
<tr class="row-even"><td><p>CALL(sequence_id)</p></td>
<td><p>branch to separate sequence and allows RETURN</p></td>
</tr>
<tr class="row-odd"><td><p>RETURN</p></td>
<td><p>Return to CALL statement</p></td>
</tr>
<tr class="row-even"><td><p>DELAY(delay)</p></td>
<td><p>Wait in mS.</p></td>
</tr>
<tr class="row-odd"><td><p>DELAYMINS(delay)</p></td>
<td><p>Wait minutes</p></td>
</tr>
<tr class="row-even"><td><p>DELAYRANDOM(mindelay,maxdelay)</p></td>
<td><p>Delay random time between min and max mS</p></td>
</tr>
<tr class="row-odd"><td><p>IF(sensor_id)</p></td>
<td><p>If sensor is activated, continue. Otherwise skip to matching ENDIF.</p></td>
</tr>
<tr class="row-even"><td><p>IFNOT(sensor_id)</p></td>
<td><p>If sensor is NOT activated, continue. Otherwise skip to matching ENDIF.</p></td>
</tr>
<tr class="row-odd"><td><p>IFRANDOM(percent)</p></td>
<td><p>Randomly choose to continue or skip to matching ENDIF.</p></td>
</tr>
<tr class="row-even"><td><p>IFRESERVE(block)</p></td>
<td><p>If block is <em>not reserved</em>, RESERVE it and continue. Otherwise skip to matching ENDIF.</p></td>
</tr>
<tr class="row-odd"><td><p>ENDIF</p></td>
<td><p>End of IF type block</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>— Command Station functions —</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>JOIN</p></td>
<td><p>Join prog track to main</p></td>
</tr>
<tr class="row-odd"><td><p>UNJOIN</p></td>
<td><p>Disconnect prog track from main</p></td>
</tr>
<tr class="row-even"><td><p>READ_LOCO</p></td>
<td><p>Read loco ID from prog track</p></td>
</tr>
<tr class="row-odd"><td><p>POM(cv,value)</p></td>
<td><p>Write loco cv on main track</p></td>
</tr>
<tr class="row-even"><td><p>LCD(row,”msg”)</p></td>
<td><p>Write message on LCD/OLED</p></td>
</tr>
<tr class="row-odd"><td><p>PRINT(“msg”)</p></td>
<td><p>Writes a message to the serial monitor</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>— EX-RAIL Functions —</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>PAUSE</p></td>
<td><p>ESTOP all locos and PAUSE all other EXRAIL tasks until RESUMEd</p></td>
</tr>
<tr class="row-odd"><td><p>RESUME</p></td>
<td><p>Resume all paused tasks</p></td>
</tr>
<tr class="row-even"><td><p>RESERVE(blockid)</p></td>
<td><p>Reserve a block (0-255) If already reserved, current loco will STOP and script waits for block to become free.</p></td>
</tr>
<tr class="row-odd"><td><p>FREE(blockid)</p></td>
<td><p>Free previously reserved block</p></td>
</tr>
<tr class="row-even"><td><p>START(route)</p></td>
<td><p>Start a new task running route or sequence</p></td>
</tr>
<tr class="row-odd"><td><p>SETLOCO(loco)</p></td>
<td><p>Set current loco id</p></td>
</tr>
<tr class="row-even"><td><p>SENDLOCO(loco,route)</p></td>
<td><p>Start a new task to send loco along given route</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>— Loco DCC functions —</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>ESTOP</p></td>
<td><p>Emergency stop cuurrent loco</p></td>
</tr>
<tr class="row-even"><td><p>FWD(speed)</p></td>
<td><p>Drive loco forward at DCC speed (out of 127)</p></td>
</tr>
<tr class="row-odd"><td><p>REV(speed)</p></td>
<td><p>Drive loco in reverse (see FWD)</p></td>
</tr>
<tr class="row-even"><td><p>SPEED(speed)</p></td>
<td><p>drive loco in current direction</p></td>
</tr>
<tr class="row-odd"><td><p>STOP</p></td>
<td><p>Same as SPEED(0)</p></td>
</tr>
<tr class="row-even"><td><p>FON(func)</p></td>
<td><p>Turn on loco function</p></td>
</tr>
<tr class="row-odd"><td><p>FOFF(func)</p></td>
<td><p>Turn off loco function</p></td>
</tr>
<tr class="row-even"><td><p>INVERT_DIRECTION</p></td>
<td><p>Further FWD/REV commands to this loco will be reversed</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>— Sensor input functions —</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>AT(sensor_id)</p></td>
<td><p>Waits for sensor to be triggered</p></td>
</tr>
<tr class="row-even"><td><p>AFTER(sensor_id)</p></td>
<td><p>Waits for sensor to be detected and then off for 0.5 seconds</p></td>
</tr>
<tr class="row-odd"><td><p>LATCH(sensor_id)</p></td>
<td><p>Latch sensor ON (Sensors 0-255 only)</p></td>
</tr>
<tr class="row-even"><td><p>UNLATCH(sensor_id)</p></td>
<td><p>Remove LATCH on sensor.</p></td>
</tr>
<tr class="row-odd"><td><p>ONCLOSE(turnout_id)</p></td>
<td><p>Catch closure of turnout</p></td>
</tr>
<tr class="row-even"><td><p>ONTHROW(turnout_id)</p></td>
<td><p>Catch throw of Turnout</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>— Action output functions —</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>SET(output_pin)</p></td>
<td><p>Set output pin HIGH</p></td>
</tr>
<tr class="row-even"><td><p>RESET(output_pin)</p></td>
<td><p>Zero an output pin.</p></td>
</tr>
<tr class="row-odd"><td><p>CLOSE(turnout_id)</p></td>
<td><p>close defined turnout</p></td>
</tr>
<tr class="row-even"><td><p>THROW(turnout_id)</p></td>
<td><p>Throw a defined turnout</p></td>
</tr>
<tr class="row-odd"><td><p>GREEN(signal_id)</p></td>
<td><p>Set defined signal green</p></td>
</tr>
<tr class="row-even"><td><p>AMBER(signal_id)</p></td>
<td><p>Sets defined signal to amber</p></td>
</tr>
<tr class="row-odd"><td><p>RED(signal_id)</p></td>
<td><p>Set defined signal to red</p></td>
</tr>
<tr class="row-even"><td><p>SERVO(Vpin,position,Profile)</p></td>
<td><p>Move an animation servo. Do not use for Turnouts. (profile is one of Instant, Fast, Medium, Slow or Bounce)</p></td>
</tr>
<tr class="row-odd"><td><p>XFON(cab,func)</p></td>
<td><p>Turn on accessory function, e.g. lit carriages. <strong>Not for Loco use - use FON instead!</strong></p></td>
</tr>
<tr class="row-even"><td><p>XFOFF(cab,func)</p></td>
<td><p>Turn off accessory function, e.g. lit carriages. <strong>Not for Loco use - use FOFF instead!</strong></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../reference/index.html" class="btn btn-neutral float-right" title="Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="EX-RAIL-intro.html" class="btn btn-neutral float-left" title="Introduction to EX-RAIL Automation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, 2021 - Fred Decker, Mani Kumar.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>